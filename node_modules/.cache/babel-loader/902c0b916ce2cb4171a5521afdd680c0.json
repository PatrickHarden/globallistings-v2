{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/zentoo/Code/v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _this = this,\n    _jsxFileName = \"/Users/zentoo/Code/v2/src/views/plp/property-list/property-list.tsx\";\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { List, AutoSizer } from 'react-virtualized';\nimport { findIndex } from 'ramda';\nimport { Filters } from '../../../components/filters/filters';\nimport { PropertyCard } from '../../../components/property-card/property-card';\nvar StyledPropertyCard = styled(PropertyCard)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  margin: \", \";\\n}\\n\"])), function (_ref) {\n  var theme = _ref.theme;\n  return theme.gutter.s;\n});\nvar Header = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\"])));\nvar ResultCount = styled.span(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  margin-left: \", \";\\n  margin-top: \", \";\\n  color: \", \";\\n}\\n\"])), function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.gutter.s;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.gutter.l;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.colours.primary;\n});\nvar SortFilter = styled(Filters)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  width: 40%;\\n  margin: \", \";\\n}\\n\"])), function (_ref5) {\n  var theme = _ref5.theme;\n  return theme.gutter.s;\n});\nvar ListContainer = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  height: 100%;\\n}\\n  #agency365_spa & div:focus {\\n    outline: 0;\\n  }\\n\"])));\nvar Container = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\"])));\nexport var PropertyList = function PropertyList(_ref6) {\n  var className = _ref6.className,\n      filters = _ref6.filters,\n      goToProperty = _ref6.goToProperty,\n      onFilterChange = _ref6.onFilterChange,\n      properties = _ref6.properties,\n      resultCount = _ref6.resultCount,\n      onListPropertyEnter = _ref6.onListPropertyEnter,\n      onListPropertyLeave = _ref6.onListPropertyLeave;\n  var selectedPropertyIndex = findIndex(function (p) {\n    return p.selected;\n  }, properties);\n\n  var renderRow = function renderRow(_ref7) {\n    var key = _ref7.key,\n        index = _ref7.index,\n        style = _ref7.style;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: style,\n      key: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(StyledPropertyCard, Object.assign({}, properties[index], {\n      handleClick: goToProperty,\n      handleMouseEnter: function handleMouseEnter(id) {\n        return onListPropertyEnter(id);\n      },\n      handleMouseLeave: function handleMouseLeave(id) {\n        return onListPropertyLeave(id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    })));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: className,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ResultCount, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, resultCount), /*#__PURE__*/React.createElement(SortFilter, {\n    displayLabels: false,\n    filters: filters,\n    handleChange: onFilterChange,\n    inline: false,\n    placement: 'lm_sortFilter',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ListContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AutoSizer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, function (_ref8) {\n    var height = _ref8.height,\n        width = _ref8.width;\n    return /*#__PURE__*/React.createElement(List, {\n      height: height,\n      rowHeight: 140.8 // TODO pass the theme here and calculate the height\n      ,\n      width: width,\n      rowCount: properties.length,\n      rowRenderer: renderRow,\n      scrollToIndex: selectedPropertyIndex,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    });\n  })));\n};","map":{"version":3,"names":["React","styled","List","AutoSizer","findIndex","Filters","PropertyCard","StyledPropertyCard","theme","gutter","s","Header","div","ResultCount","span","l","colours","primary","SortFilter","ListContainer","Container","PropertyList","className","filters","goToProperty","onFilterChange","properties","resultCount","onListPropertyEnter","onListPropertyLeave","selectedPropertyIndex","p","selected","renderRow","key","index","style","id","height","width","length"],"sources":["/Users/zentoo/Code/v2/src/views/plp/property-list/property-list.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport { PropertyOverview } from '../../../redux/selectors/property-search-results';\nimport { FilterInfo } from '../../../redux/selectors/config/filters';\nimport { FilterModifier } from '../../../types/config';\nimport { List, ListRowRenderer, AutoSizer } from 'react-virtualized';\nimport { findIndex } from 'ramda';\n\nimport { Filters } from '../../../components/filters/filters';\nimport { PropertyCard } from '../../../components/property-card/property-card';\n\ninterface Props {\n  readonly filters: FilterInfo[];\n  readonly goToProperty: (id: string) => void;\n  readonly onFilterChange: (key: string) => (val: string, modifier: FilterModifier) => void;\n  readonly onListPropertyEnter: (id: string) => void;\n  readonly onListPropertyLeave: (id: string) => void;\n  readonly properties: PropertyOverview[];\n  readonly resultCount: string;\n  readonly className?: string;\n}\n\nconst StyledPropertyCard = styled(PropertyCard)`\n  margin: ${({ theme }) => theme.gutter.s};\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ResultCount = styled.span`\n  margin-left: ${({ theme }) => theme.gutter.s};\n  margin-top: ${({ theme }) => theme.gutter.l};\n  color: ${({ theme }) => theme.colours.primary};\n`;\n\nconst SortFilter = styled(Filters)`\n  width: 40%;\n  margin: ${({ theme }) => theme.gutter.s};\n`;\n\nconst ListContainer = styled.div`\n  height: 100%;\n  div:focus {\n    outline: 0;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const PropertyList: React.SFC<Props> = ({\n  className,\n  filters,\n  goToProperty,\n  onFilterChange,\n  properties,\n  resultCount,\n  onListPropertyEnter,\n  onListPropertyLeave,\n}) => {\n  const selectedPropertyIndex = findIndex(p => p.selected, properties);\n  const renderRow: ListRowRenderer = ({ key, index, style }) => (\n    <div style={style} key={key}>\n      <StyledPropertyCard\n        {...properties[index]}\n        handleClick={goToProperty}\n        handleMouseEnter={id => onListPropertyEnter(id)}\n        handleMouseLeave={id => onListPropertyLeave(id)}\n      />\n    </div>\n  );\n\n  return (\n    <Container className={className}>\n      <Header>\n        <ResultCount>{resultCount}</ResultCount>\n        <SortFilter\n          displayLabels={false}\n          filters={filters}\n          handleChange={onFilterChange}\n          inline={false}\n          placement={'lm_sortFilter'}\n        />\n      </Header>\n\n      <ListContainer>\n        <AutoSizer>\n          {({ height, width }) => (\n            <List\n              height={height}\n              rowHeight={140.8} // TODO pass the theme here and calculate the height\n              width={width}\n              rowCount={properties.length}\n              rowRenderer={renderRow}\n              scrollToIndex={selectedPropertyIndex}\n            />\n          )}\n        </AutoSizer>\n      </ListContainer>\n    </Container>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}