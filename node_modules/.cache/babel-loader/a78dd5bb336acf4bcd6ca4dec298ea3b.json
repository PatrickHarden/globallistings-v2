{"ast":null,"code":"import _defineProperty from \"/Users/zentoo/Code/v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/zentoo/Code/v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { replace, push } from 'connected-react-router';\nimport { stringify } from 'query-string';\nimport { generatePath } from 'react-router';\nimport RoutePaths from '../../constants/routePaths';\nimport { buildUrl } from '../../utils/build-url';\nimport { querySelector, pathSelector, queryStringSelector } from '../selectors/location';\nimport { plpUrlPathParamsSelector } from '../selectors/match';\nexport var updateQueryParams = function updateQueryParams(params) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var query = querySelector(state);\n    var path = pathSelector(state);\n\n    var newQuery = _objectSpread({}, query, params);\n\n    var newQueryStr = stringify(newQuery);\n    dispatch(replace(buildUrl(path, newQueryStr)));\n  };\n};\nexport var updatePath = function updatePath(path, value) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var currentParams = plpUrlPathParamsSelector(state);\n    var queryStr = queryStringSelector(state);\n    var newPath = generatePath(RoutePaths.plp, _objectSpread({}, currentParams, _defineProperty({}, path, value)));\n    dispatch(replace(buildUrl(newPath, queryStr)));\n  };\n};\nexport var navigateToProperty = function navigateToProperty(propertyId) {\n  return function (dispatch) {\n    var newPath = generatePath(RoutePaths.pdp, {\n      propertyId: propertyId\n    });\n    dispatch(push(buildUrl(newPath, '')));\n  };\n};","map":{"version":3,"names":["replace","push","stringify","generatePath","RoutePaths","buildUrl","querySelector","pathSelector","queryStringSelector","plpUrlPathParamsSelector","updateQueryParams","params","dispatch","getState","state","query","path","newQuery","newQueryStr","updatePath","value","currentParams","queryStr","newPath","plp","navigateToProperty","propertyId","pdp"],"sources":["/Users/zentoo/Code/v2/src/redux/actions/navigation.ts"],"sourcesContent":["import { State } from '../../types/state';\nimport { replace, push } from 'connected-react-router';\nimport { stringify } from 'query-string';\nimport { Dictionary } from '../../types/common/dictionary';\nimport { PlpPath } from '../../types/plp';\nimport { generatePath } from 'react-router';\nimport RoutePaths from '../../constants/routePaths';\nimport { buildUrl } from '../../utils/build-url';\nimport { querySelector, pathSelector, queryStringSelector } from '../selectors/location';\nimport { plpUrlPathParamsSelector } from '../selectors/match';\n\nexport const updateQueryParams = (params: Dictionary<string>) => (\n  dispatch: Function,\n  getState: () => State\n) => {\n  const state = getState();\n  const query = querySelector(state);\n  const path = pathSelector(state);\n\n  const newQuery = {\n    ...query,\n    ...params,\n  };\n  const newQueryStr = stringify(newQuery);\n  dispatch(replace(buildUrl(path, newQueryStr)));\n};\n\nexport const updatePath = (path: keyof PlpPath, value: string) => (\n  dispatch: Function,\n  getState: () => State\n) => {\n  const state = getState();\n  const currentParams = plpUrlPathParamsSelector(state);\n  const queryStr = queryStringSelector(state);\n\n  const newPath = generatePath(RoutePaths.plp, { ...currentParams, [path]: value });\n  dispatch(replace(buildUrl(newPath, queryStr)));\n};\n\nexport const navigateToProperty = (propertyId: string) => (dispatch: Function) => {\n  const newPath = generatePath(RoutePaths.pdp, { propertyId });\n  dispatch(push(buildUrl(newPath, '')));\n};\n"],"mappings":";;AACA,SAASA,OAAT,EAAkBC,IAAlB,QAA8B,wBAA9B;AACA,SAASC,SAAT,QAA0B,cAA1B;AAGA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,aAAT,EAAwBC,YAAxB,EAAsCC,mBAAtC,QAAiE,uBAAjE;AACA,SAASC,wBAAT,QAAyC,oBAAzC;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,MAAD;EAAA,OAAgC,UAC/DC,QAD+D,EAE/DC,QAF+D,EAG5D;IACH,IAAMC,KAAK,GAAGD,QAAQ,EAAtB;IACA,IAAME,KAAK,GAAGT,aAAa,CAACQ,KAAD,CAA3B;IACA,IAAME,IAAI,GAAGT,YAAY,CAACO,KAAD,CAAzB;;IAEA,IAAMG,QAAQ,qBACTF,KADS,EAETJ,MAFS,CAAd;;IAIA,IAAMO,WAAW,GAAGhB,SAAS,CAACe,QAAD,CAA7B;IACAL,QAAQ,CAACZ,OAAO,CAACK,QAAQ,CAACW,IAAD,EAAOE,WAAP,CAAT,CAAR,CAAR;EACD,CAdgC;AAAA,CAA1B;AAgBP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACH,IAAD,EAAsBI,KAAtB;EAAA,OAAwC,UAChER,QADgE,EAEhEC,QAFgE,EAG7D;IACH,IAAMC,KAAK,GAAGD,QAAQ,EAAtB;IACA,IAAMQ,aAAa,GAAGZ,wBAAwB,CAACK,KAAD,CAA9C;IACA,IAAMQ,QAAQ,GAAGd,mBAAmB,CAACM,KAAD,CAApC;IAEA,IAAMS,OAAO,GAAGpB,YAAY,CAACC,UAAU,CAACoB,GAAZ,oBAAsBH,aAAtB,sBAAsCL,IAAtC,EAA6CI,KAA7C,GAA5B;IACAR,QAAQ,CAACZ,OAAO,CAACK,QAAQ,CAACkB,OAAD,EAAUD,QAAV,CAAT,CAAR,CAAR;EACD,CAVyB;AAAA,CAAnB;AAYP,OAAO,IAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,UAAD;EAAA,OAAwB,UAACd,QAAD,EAAwB;IAChF,IAAMW,OAAO,GAAGpB,YAAY,CAACC,UAAU,CAACuB,GAAZ,EAAiB;MAAED,UAAU,EAAVA;IAAF,CAAjB,CAA5B;IACAd,QAAQ,CAACX,IAAI,CAACI,QAAQ,CAACkB,OAAD,EAAU,EAAV,CAAT,CAAL,CAAR;EACD,CAHiC;AAAA,CAA3B"},"metadata":{},"sourceType":"module"}