{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/zentoo/Code/v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _this = this,\n    _jsxFileName = \"/Users/zentoo/Code/v2/src/components/map/map.tsx\";\n\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { compose, withProps } from 'recompose';\nimport { GoogleMap, withGoogleMap } from 'react-google-maps';\nimport { boundsToGoogleBounds } from '../../utils/bounds';\nimport { Loader } from '../loader/loader';\nimport { Area } from './area';\nimport MapMarker from './map-marker';\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden;\\n}\\n\"])));\nvar MapElement = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n#agency365_spa & {\\n  height: 100%;\\n}\\n\"])));\n\nvar Map = function Map(_ref) {\n  var area = _ref.area,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 11 : _ref$defaultZoom,\n      onPinClicked = _ref.onPinClicked,\n      point = _ref.point,\n      properties = _ref.properties;\n  var mapCentre = area && area.center || point && {\n    lat: point.lat,\n    lng: point.lon\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GoogleMap, {\n    ref: function ref(map) {\n      return map && area && map.fitBounds(boundsToGoogleBounds(area.bounds));\n    },\n    defaultCenter: mapCentre,\n    defaultZoom: defaultZoom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, area && area.type && /*#__PURE__*/React.createElement(Area, {\n    area: area,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 31\n    }\n  }), properties.map(function (p) {\n    return /*#__PURE__*/React.createElement(MapMarker, {\n      key: p.id,\n      property: p,\n      onClick: function onClick() {\n        return onPinClicked ? onPinClicked(p.id) : null;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    });\n  })));\n};\n\nexport default compose(withProps({\n  loadingElement: /*#__PURE__*/React.createElement(Loader, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }),\n  containerElement: /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 23\n    }\n  }),\n  mapElement: /*#__PURE__*/React.createElement(MapElement, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  })\n}), withGoogleMap)(Map);","map":{"version":3,"names":["React","styled","compose","withProps","GoogleMap","withGoogleMap","boundsToGoogleBounds","Loader","Area","MapMarker","Container","div","MapElement","Map","area","defaultZoom","onPinClicked","point","properties","mapCentre","center","lat","lng","lon","map","fitBounds","bounds","type","p","id","loadingElement","containerElement","mapElement"],"sources":["/Users/zentoo/Code/v2/src/components/map/map.tsx"],"sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { compose, withProps } from 'recompose';\nimport { GoogleMap, withGoogleMap } from 'react-google-maps';\n\nimport { Location } from '../../types/property';\nimport { PropertyOverview } from '../../redux/selectors/property-search-results';\nimport { Area as AreaType } from '../../redux/selectors/area';\nimport { boundsToGoogleBounds } from '../../utils/bounds';\n\nimport { Loader } from '../loader/loader';\nimport { Area } from './area';\nimport MapMarker from './map-marker';\n\nconst Container = styled.div`\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst MapElement = styled.div`\n  height: 100%;\n`;\n\ninterface Props {\n  readonly properties: PropertyOverview[];\n  readonly area?: AreaType;\n  readonly defaultZoom?: number;\n  readonly onPinClicked?: (id: string) => void;\n  readonly point?: Location;\n}\n\nconst Map: React.SFC<Props> = ({ area, defaultZoom = 11, onPinClicked, point, properties }) => {\n  const mapCentre = (area && area.center) || (point && { lat: point.lat, lng: point.lon });\n\n  return (\n    <div>\n      <GoogleMap\n        ref={map => map && area && map.fitBounds(boundsToGoogleBounds(area.bounds))}\n        defaultCenter={mapCentre}\n        defaultZoom={defaultZoom}\n      >\n        {area && area.type && <Area area={area} />}\n        {properties.map(p => (\n          <MapMarker\n            key={p.id}\n            property={p}\n            onClick={() => (onPinClicked ? onPinClicked(p.id) : null)}\n          />\n        ))}\n      </GoogleMap>\n    </div>\n  );\n};\n\nexport default compose<Props, Props>(\n  withProps({\n    loadingElement: <Loader size=\"large\" />,\n    containerElement: <Container />,\n    mapElement: <MapElement />,\n  }),\n  withGoogleMap\n)(Map);\n"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,OAAT,EAAkBC,SAAlB,QAAmC,WAAnC;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,mBAAzC;AAKA,SAASC,oBAAT,QAAqC,oBAArC;AAEA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,IAAMC,SAAS,GAAGT,MAAM,CAACU,GAAV,oJAAf;AAMA,IAAMC,UAAU,GAAGX,MAAM,CAACU,GAAV,iHAAhB;;AAYA,IAAME,GAAqB,GAAG,SAAxBA,GAAwB,OAAiE;EAAA,IAA9DC,IAA8D,QAA9DA,IAA8D;EAAA,4BAAxDC,WAAwD;EAAA,IAAxDA,WAAwD,iCAA1C,EAA0C;EAAA,IAAtCC,YAAsC,QAAtCA,YAAsC;EAAA,IAAxBC,KAAwB,QAAxBA,KAAwB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;EAC7F,IAAMC,SAAS,GAAIL,IAAI,IAAIA,IAAI,CAACM,MAAd,IAA0BH,KAAK,IAAI;IAAEI,GAAG,EAAEJ,KAAK,CAACI,GAAb;IAAkBC,GAAG,EAAEL,KAAK,CAACM;EAA7B,CAArD;EAEA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAD;IACE,GAAG,EAAE,aAAAC,GAAG;MAAA,OAAIA,GAAG,IAAIV,IAAP,IAAeU,GAAG,CAACC,SAAJ,CAAcnB,oBAAoB,CAACQ,IAAI,CAACY,MAAN,CAAlC,CAAnB;IAAA,CADV;IAEE,aAAa,EAAEP,SAFjB;IAGE,WAAW,EAAEJ,WAHf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAKGD,IAAI,IAAIA,IAAI,CAACa,IAAb,iBAAqB,oBAAC,IAAD;IAAM,IAAI,EAAEb,IAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EALxB,EAMGI,UAAU,CAACM,GAAX,CAAe,UAAAI,CAAC;IAAA,oBACf,oBAAC,SAAD;MACE,GAAG,EAAEA,CAAC,CAACC,EADT;MAEE,QAAQ,EAAED,CAFZ;MAGE,OAAO,EAAE;QAAA,OAAOZ,YAAY,GAAGA,YAAY,CAACY,CAAC,CAACC,EAAH,CAAf,GAAwB,IAA3C;MAAA,CAHX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADe;EAAA,CAAhB,CANH,CADF,CADF;AAkBD,CArBD;;AAuBA,eAAe3B,OAAO,CACpBC,SAAS,CAAC;EACR2B,cAAc,eAAE,oBAAC,MAAD;IAAQ,IAAI,EAAC,OAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADR;EAERC,gBAAgB,eAAE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFV;EAGRC,UAAU,eAAE,oBAAC,UAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA;AAHJ,CAAD,CADW,EAMpB3B,aANoB,CAAP,CAObQ,GAPa,CAAf"},"metadata":{},"sourceType":"module"}